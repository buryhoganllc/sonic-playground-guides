/* =========
   SECTION: Theme Variables (Light & Dark)
   ========= */
:root {
  --card: #fff;
  --border: #e1e4e8;
  --radius: 8px;
  --shadow: 0 2px 8px rgba(10,10,10,0.04);
  --code-bg: #f6f8fa;
  --code-fg: #222;
}

[data-theme="dark"] {
  --card: #181b1e;
  --border: #23272e;
  --shadow: 0 2px 8px rgba(10,10,10,0.24);
  --code-bg: #23272e;
  --code-fg: #eaeefa;
}

/* =========
   SECTION: Base Styles
   ========= */
body {
  font-family: 'Inter', Arial, sans-serif;
  color: #222;
  background: var(--card);
  margin: 0;
  min-height: 100vh;
  transition: background 0.15s, color 0.15s;
}

[data-theme="dark"] body {
  color: #eaeefa;
}

/* =========
   SECTION: Sticky Header (Modification)
   ========= */
.site-header {
  position: sticky;
  top: 0;
  z-index: 1000;
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  margin: 0 0 2rem 0;
  padding: 1rem 2rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

/* =========
   SECTION: Navigation Styles
   ========= */
.site-header nav a {
  margin-right: 1.5rem;
  color: #139c8a;
  font-weight: 500;
  text-decoration: none;
  font-size: 1.1em;
  transition: color 0.15s;
}
.site-header nav a:last-child {
  margin-right: 0;
}
.site-header nav a:hover {
  color: #2c3444;
}

/* =========
   SECTION: Theme Toggle Button
   ========= */
#theme-toggle {
  background: none;
  border: none;
  font-size: 1.5em;
  cursor: pointer;
  margin-left: 1.5rem;
  color: #222;
  transition: color 0.15s;
}
[data-theme="dark"] #theme-toggle {
  color: #eaeefa;
}

/* =========
   SECTION: Main Content Area
   ========= */
.site-main {
  max-width: 800px;
  margin: 0 auto;
  padding: 2rem;
}

/* =========
   SECTION: Footer Styles
   ========= */
.site-footer {
  text-align: center;
  color: #888;
  font-size: 0.9em;
  margin: 2rem 0 0 0;
  padding-bottom: 2rem;
}
[data-theme="dark"] .site-footer {
  color: #aaa;
}

/* =========
   SECTION: GitHub-Style Tables (Modification)
   ========= */
table {
  border-collapse: collapse;
  width: 100%;
  margin: 2em 0;
  font-size: 1em;
  background: var(--card);
}

th, td {
  border: 1px solid var(--border);
  padding: 8px 12px;
  text-align: left;
  vertical-align: top;
}

th {
  background-color: #f6f8fa;
  font-weight: 600;
}

[data-theme="dark"] th {
  background-color: #23272e;
}

tr:nth-child(even) {
  background-color: #f6f8fa;
}

[data-theme="dark"] tr:nth-child(even) {
  background-color: #23272e;
}

tr:hover {
  background: #eaecef;
}

[data-theme="dark"] tr:hover {
  background: #313640;
}

/* =========
   SECTION: Code Block and Syntax Highlighting (Merged for Rouge, AppleScript, Bash/Shell, Light & Dark)
   ========= */

/* Block and inline code backgrounds and text */
.highlight pre, pre.highlight, pre, code {
  background: var(--code-bg);
  color: var(--code-fg);
  border-radius: var(--radius);
}

.highlight pre, pre.highlight, pre {
  overflow-x: auto;
  padding: 1em;
  font-size: 1em;
  margin: 1em 0;
  line-height: 1.6;
}

code {
  padding: 0.2em 0.5em;
  font-size: 0.97em;
}

/* Rouge syntax classes: light mode default (GitHub style) */
.highlight .c, .highlight .cm, .highlight .cp { color: #6a737d; font-style: italic; } /* Comment */
.highlight .k, .highlight .o { color: #d73a49; } /* Keyword, Operator */
.highlight .nb, .highlight .bp { color: #005cc5; } /* Name.Builtin */
.highlight .nf, .highlight .nc { color: #6f42c1; } /* Function, Class */
.highlight .no, .highlight .nv { color: #e36209; } /* Constant, Variable */
.highlight .mi, .highlight .m { color: #005cc5; } /* Number */
.highlight .s, .highlight .s2 { color: #032f62; } /* String */
.highlight .err { color: #d73a49; background: #fdd; } /* Error */

/* =========
   SECTION: Custom Rouge Syntax Highlighting for Dark Mode (AppleScript, Bash/Shell, General)
   ========= */
@media (prefers-color-scheme: dark) {
  .highlight pre, pre.highlight, pre, code {
    background: #22272e !important; /* GitHub dark background */
    color: #eaeefa !important;
  }
  /* Comments */
  .highlight .c, .highlight .cm, .highlight .cp { color: #6a9955 !important; font-style: italic; }
  /* Keywords */
  .highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .o { color: #ffb86c !important; }
  /* Strings */
  .highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .se, .highlight .sh, .highlight .si, .highlight .sx, .highlight .s2 { color: #50fa7b !important; }
  /* Numbers */
  .highlight .m, .highlight .mi { color: #bd93f9 !important; }
  /* Function names, variables, built-ins */
  .highlight .nf, .highlight .nv, .highlight .nb, .highlight .bp { color: #8be9fd !important; }
  /* Operators */
  .highlight .o { color: #ff79c6 !important; }
  /* Punctuation (default text color) */
  .highlight .p { color: #eaeefa !important; }
  /* Built-in shell commands */
  .highlight .nb { color: #8be9fd !important; font-weight: bold; }
  /* Shell prompt ($, %, >) */
  .highlight .gp { color: #ff79c6 !important; font-weight: bold; }
  /* Shell errors */
  .highlight .err { color: #ff5555 !important; background: #282a36 !important; }
  /* Section headings */
  .highlight .gh { color: #ffb86c !important; font-weight: bold; }
  /* Bold */
  .highlight .gs { font-weight: bold; }
  /* Italic */
  .highlight .ge { font-style: italic; }
}

/* =========
   SECTION: Link Styles (Light Mode)
   ========= */
a {
  color: #139c8a;
  text-decoration: underline;
  transition: color 0.15s;
}
a:hover {
  color: #2c3444;
  text-decoration: underline;
}
a:visited {
  color: #4c2f92;
}

/* =========
   SECTION: Link Styles (Dark Mode)
   ========= */
[data-theme="dark"] a,
[data-theme="dark"] .site-header nav a {
  color: #7fceff;
  text-decoration: underline;
  transition: color 0.15s;
}
[data-theme="dark"] a:hover,
[data-theme="dark"] .site-header nav a:hover {
  color: #ffe066;
}
[data-theme="dark"] a:visited,
[data-theme="dark"] .site-header nav a:visited {
  color: #a78bfa;
}

/* =========
   SECTION: Responsive Layout
   ========= */
@media (max-width: 900px) {
  .site-main {
    padding: 1rem;
  }
  .site-header {
    flex-direction: column;
    align-items: flex-start;
    padding: 1rem;
  }
}
